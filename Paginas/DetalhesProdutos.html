<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Estilos/DetalhesProdutos.css">
    <title>Detalhes do Produto</title>
</head>
<body>

    <!-- Header com estilo Kabum -->
    <header>
        <div class="logo">
            <img src="../img/LOGO NOVA.jpg" alt="Logo da NOVA">
            <h1>NOVA</h1>
        </div>
        <nav class="nav-menu">
            <a href="#">Home</a>
            <a href="#">Produtos</a>
            <a href="#">Carrinho</a>
            <a href="#">Contato</a>
        </nav>
    </header>

    <div class="container">
        <!-- Seção de detalhes do produto -->
        <section class="product-section">
            <div class="carousel-container">
                <button class="carousel-button prev" onclick="prevImage()">&#10094;</button>
                <div class="carousel-images" id="carousel-images">
                    <img src="../img/processador.webp" alt="Produto 1" class="active">
                    <img src="../img/2.jpeg" alt="Produto 2">
                    <img src="../img/3.jpeg" alt="Produto 3">
                </div>
                <button class="carousel-button next" onclick="nextImage()">&#10095;</button>
            </div>
        </section>

        <!-- Detalhes do produto e avaliação -->
        <aside class="details-section">
            <!-- Detalhes do produto -->
            <div class="product-details">
                <h2>Detalhes do Produto</h2>
                <ul>
                    <li><strong>Modelo:</strong> AMD Ryzen 7 5700X3D</li>
                    <li><strong>Frequência base:</strong> 3.6 GHz</li>
                    <li><strong>Frequência turbo:</strong> 4.1 GHz</li>
                    <li><strong>Cachê:</strong> 4MB</li>
                    <li><strong>Número de núcleos:</strong> 8</li>
                    <li><strong>Número de threads:</strong> 16</li>
                    <li><strong>Socket:</strong> AM4</li>
                </ul>
                <p><strong>Valor:</strong> R$ 2.299,00</p>
                <!-- Botão de adicionar ao carrinho -->
                <button id="add-to-cart">Adicionar ao Carrinho</button>
            </div>

            <!-- Avaliação fixa do usuário -->
            <div class="user-review">
                <h2>Avaliação dos Usuários</h2>
                <div class="fixed-review">
                    <span class="stars">★★★★☆</span>
                    <p>Média de 4.5 estrelas baseada em 150 avaliações.</p>
                </div>
            </div>
        </aside>
    </div>

    <!-- Seção do carrinho de compras -->
    <section class="cart">
        <h2>Carrinho de Compras</h2>
        <ul id="cart-items"></ul>
        <p><strong>Total: R$ <span id="cart-total">0,00</span></strong></p>
    </section>

    <script>
        let currentImageIndex = 0;
        const images = document.querySelectorAll('.carousel-images img');

        function showImage(index) {
            images.forEach((img, i) => {
                img.classList.remove('active');
                if (i === index) {
                    img.classList.add('active');
                }
            });
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % images.length;
            showImage(currentImageIndex);
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            showImage(currentImageIndex);
        }

        // Função para adicionar o produto ao carrinho
        let cart = [];
        const product = {
            name: "AMD Ryzen 7 5700X3D",
            price: 2299.00
        };

        document.getElementById("add-to-cart").addEventListener("click", function() {
            addToCart(product);
        });

        function addToCart(product) {
            const existingProduct = cart.find(item => item.name === product.name);
            if (existingProduct) {
                existingProduct.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            updateCartDisplay();
        }

        function updateCartDisplay() {
            const cartItemsElement = document.getElementById("cart-items");
            const cartTotalElement = document.getElementById("cart-total");
            cartItemsElement.innerHTML = "";
            let total = 0;

            cart.forEach(item => {
                const listItem = document.createElement("li");
                listItem.textContent = `${item.name} - R$ ${item.price.toFixed(2)} (x${item.quantity})`;
                cartItemsElement.appendChild(listItem);
                total += item.price * item.quantity;
            });

            cartTotalElement.textContent = total.toFixed(2);
        }
    </script>

</body>
</html>
